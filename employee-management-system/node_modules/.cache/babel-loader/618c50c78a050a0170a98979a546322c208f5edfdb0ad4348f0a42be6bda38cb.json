{"ast":null,"code":"import _objectSpread from\"C:/Users/hp/Desktop/projects/Prt/employee-management-system/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from'axios';import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const navigate=useNavigate();const URI=process.env.REACT_APP_API_URL;const[values,setValues]=useState({uname:\"\",password:\"\"});const changeHandler=event=>{const{name,value}=event.target;setValues(_objectSpread(_objectSpread({},values),{},{[name]:value}));};const submitHandler=event=>{event.preventDefault();axios.post(URI+\"/Login\",values).then(res=>{console.log(\"login response\",res);if(!(localStorage.getItem(\"user\")===\"undefined\")&&localStorage.getItem(\"user\")===res.data.token){navigate(\"/profile\");}else{console.log(res.data.token);localStorage.setItem(\"user\",res.data.token);navigate(\"/profile\");}// localStorage.setItem(\"user\",res.data.token)\n// navigate(\"/profile\")\n}).catch(err=>console.log(\"error in login\",err));};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"uname\",onChange:changeHandler}),/*#__PURE__*/_jsx(\"label\",{children:\"Password :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",onChange:changeHandler}),/*#__PURE__*/_jsx(\"input\",{className:\"bg-uccess\",type:\"submit\"})]})});};export default Login;","map":{"version":3,"names":["axios","React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","navigate","URI","process","env","REACT_APP_API_URL","values","setValues","uname","password","changeHandler","event","name","value","target","_objectSpread","submitHandler","preventDefault","post","then","res","console","log","localStorage","getItem","data","token","setItem","catch","err","children","action","onSubmit","type","id","onChange","className"],"sources":["C:/Users/hp/Desktop/projects/Prt/employee-management-system/src/components/Login.jsx"],"sourcesContent":["import axios from 'axios'\r\nimport React, { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst Login = () => {\r\n  const navigate=useNavigate()\r\n\r\n  const URI= process.env.REACT_APP_API_URL;\r\n\r\n  const[values,setValues]=useState({uname:\"\",password:\"\"})\r\n  const changeHandler=(event)=>{\r\n    const{name,value}=event.target\r\n    setValues({...values,[name]:value})\r\n  }\r\n  const submitHandler=(event)=>{\r\n      event.preventDefault()\r\n      axios.post(URI+\"/Login\",values)\r\n      .then(res=>{\r\n        console.log(\"login response\",res)\r\n        if(!(localStorage.getItem(\"user\")===\"undefined\")&&localStorage.getItem(\"user\")===res.data.token){\r\n           \r\n          navigate(\"/profile\")\r\n         }\r\n         else{\r\n          console.log((res.data.token))\r\n          localStorage.setItem(\"user\", res.data.token)\r\n          navigate(\"/profile\")\r\n         }\r\n        // localStorage.setItem(\"user\",res.data.token)\r\n        // navigate(\"/profile\")\r\n      })\r\n      .catch(err=>console.log(\"error in login\",err))\r\n  }\r\n  return (\r\n    <div>\r\n      <form action=\"\" onSubmit={submitHandler}>\r\n      <label >Username :</label>\r\n      <input type=\"text\" id=\"username\" name=\"uname\" onChange={changeHandler} ></input>\r\n      <label >Password :</label>\r\n      <input type=\"password\" id=\"password\" name=\"password\" onChange={changeHandler} />\r\n      <input className='bg-uccess' type=\"submit\"></input>\r\n      </form>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login"],"mappings":"gJAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAAAC,QAAQ,CAACN,WAAW,CAAC,CAAC,CAE5B,KAAM,CAAAO,GAAG,CAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAExC,KAAK,CAACC,MAAM,CAACC,SAAS,CAAC,CAACb,QAAQ,CAAC,CAACc,KAAK,CAAC,EAAE,CAACC,QAAQ,CAAC,EAAE,CAAC,CAAC,CACxD,KAAM,CAAAC,aAAa,CAAEC,KAAK,EAAG,CAC3B,KAAK,CAACC,IAAI,CAACC,KAAK,CAAC,CAACF,KAAK,CAACG,MAAM,CAC9BP,SAAS,CAAAQ,aAAA,CAAAA,aAAA,IAAKT,MAAM,MAAC,CAACM,IAAI,EAAEC,KAAK,EAAC,CAAC,CACrC,CAAC,CACD,KAAM,CAAAG,aAAa,CAAEL,KAAK,EAAG,CACzBA,KAAK,CAACM,cAAc,CAAC,CAAC,CACtBzB,KAAK,CAAC0B,IAAI,CAAChB,GAAG,CAAC,QAAQ,CAACI,MAAM,CAAC,CAC9Ba,IAAI,CAACC,GAAG,EAAE,CACTC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAACF,GAAG,CAAC,CACjC,GAAG,EAAEG,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,GAAG,WAAW,CAAC,EAAED,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,GAAGJ,GAAG,CAACK,IAAI,CAACC,KAAK,CAAC,CAE9FzB,QAAQ,CAAC,UAAU,CAAC,CACrB,CAAC,IACG,CACHoB,OAAO,CAACC,GAAG,CAAEF,GAAG,CAACK,IAAI,CAACC,KAAM,CAAC,CAC7BH,YAAY,CAACI,OAAO,CAAC,MAAM,CAAEP,GAAG,CAACK,IAAI,CAACC,KAAK,CAAC,CAC5CzB,QAAQ,CAAC,UAAU,CAAC,CACrB,CACD;AACA;AACF,CAAC,CAAC,CACD2B,KAAK,CAACC,GAAG,EAAER,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAACO,GAAG,CAAC,CAAC,CAClD,CAAC,CACD,mBACEhC,IAAA,QAAAiC,QAAA,cACE/B,KAAA,SAAMgC,MAAM,CAAC,EAAE,CAACC,QAAQ,CAAEhB,aAAc,CAAAc,QAAA,eACxCjC,IAAA,UAAAiC,QAAA,CAAQ,YAAU,CAAO,CAAC,cAC1BjC,IAAA,UAAOoC,IAAI,CAAC,MAAM,CAACC,EAAE,CAAC,UAAU,CAACtB,IAAI,CAAC,OAAO,CAACuB,QAAQ,CAAEzB,aAAc,CAAS,CAAC,cAChFb,IAAA,UAAAiC,QAAA,CAAQ,YAAU,CAAO,CAAC,cAC1BjC,IAAA,UAAOoC,IAAI,CAAC,UAAU,CAACC,EAAE,CAAC,UAAU,CAACtB,IAAI,CAAC,UAAU,CAACuB,QAAQ,CAAEzB,aAAc,CAAE,CAAC,cAChFb,IAAA,UAAOuC,SAAS,CAAC,WAAW,CAACH,IAAI,CAAC,QAAQ,CAAQ,CAAC,EAC7C,CAAC,CAEJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjC,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}